<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mietstationen verwalten</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="mietstationen.css" />
 
</head>
<body>
  <header>
    <div class="logo">
      <img src="logo.png" alt="Logo" />
      <span>Autovermietung</span>
    </div>
    <nav>
      <a href="main.html">Home</a>
      <a href="mietstationen.html">Mietstationen</a>
      <a href="performance.html">Performance</a>
      <a href="personal.html">Personaleinsatz</a>
    </nav>
  </header>

  <main style="display: flex; gap: 2rem; max-width:1200px; margin:auto; padding-top:8rem;">
    <section class="form-section fadeIn">
      <h2>Neue Mietstation anlegen</h2>
      <form id="mietstationForm">
        <label for="name">Name</label>
        <input type="text" id="name" required />
        <label for="address">Adresse</label>
        <input type="text" id="address" required />
        <label for="phone">Telefon</label>
        <input type="tel" id="phone" required />
        <label for="email">E-Mail</label>
        <input type="email" id="email" required />
        <label for="capacity">Kapazität</label>
        <input type="number" id="capacity" required />
        <label for="aufbereitung">Fahrzeugaufbereitung</label>
        <select id="aufbereitung">
          <option>Nein</option>
          <option>Ja - intern</option>
          <option>Ja - extern</option>
        </select>
        <label for="schadensregulierung">Schadensregulierung</label>
        <select id="schadensregulierung">
          <option>Nein</option>
          <option>Ja</option>
        </select>
        <label for="lage">Lage</label>
        <select id="lage">
          <option>Innenstadt</option>
          <option>Flughafen</option>
          <option>Tourismuszentrum</option>
          <option>Bahnhof</option>
        </select>
        <button type="submit">Speichern</button>
        <button type="button" id="cancelEdit" style="margin-left: 1rem; background: #dc2626; color: white; display: none;">❌ Bearbeiten abbrechen</button>
      </form>
    </section>
    <div class="stationen-container">
      <button id="toggleStationenBtn" class="toggle-stationen-btn">
        Bestehende Mietstationen anzeigen
      </button>
      <section class="stationen-section fadeIn" id="stationenSection" style="display:none;">
        <h2>Bestehende Mietstationen</h2>
        <div id="stationList"></div>
      </section>
    </div>
    <!-- Füge diesen Abschnitt NACH deinem Formular-Section, aber VOR den Modals und Buttons ein! -->
<section class="card" style="margin:3rem auto 0;max-width:1100px;">
  <h2>Alle Mietstationen – Übersicht & Karte</h2>
  <table id="stationTable" style="width:100%;margin:1.5rem 0;border-collapse:collapse;">
    <thead>
      <tr style="background:#232323;">
        <th>Name</th>
        <th>Adresse</th>
        <th>Stadt</th>
        <th>Kapazität</th>
        <th>Öffnungszeiten heute</th>
        <th>Karte</th>
      </tr>
    </thead>
    <tbody>
      <!-- JS füllt dynamisch -->
    </tbody>
  </table>
</section>

  </main>

  <!-- Fahrzeug-Details Modal -->
  <div id="fahrzeugModal">
    <div class="modal-inner">
      <button onclick="closeVehicleModal()" class="modal-close">×</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <!-- Fahrzeug-Überführungs-Modal -->
  <div id="ueberfuehrungModal">
    <div class="modal-inner">
      <button onclick="closeUeberfuehrungModal()" class="modal-close">×</button>
      <div id="ueberfuehrungContent"></div>
    </div>
  </div>

  <!-- Button zum Öffnen der Überführungs-Historie -->
  <button onclick="showUeberfuehrungHistorie()" class="historie-btn">Überführungs-Historie</button>

  <!-- Modal für Überführungs-Historie -->
  <div id="historieModal">
    <div class="modal-inner historie-modal-inner">
      <button onclick="closeHistorieModal()" class="modal-close">×</button>
      <h2 style="margin-bottom:1rem;">Überführungs-Historie & Auswertung</h2>
      <div id="historieContent"></div>
      <div id="historieStatistik" style="margin-top:2rem;padding-top:1rem;border-top:1px solid #333;"></div>
    </div>
  </div>

  <!-- Modal zum Bearbeiten der Mietstation -->
  <div id="bearbeitenModal">
    <div class="modal-inner bearbeiten-modal-inner">
      <button onclick="closeBearbeitenModal()" class="modal-close">×</button>
      <h2 style="margin-bottom:1rem;font-size:1.2rem;">Mietstation bearbeiten</h2>
      <form id="bearbeitenForm">
        <label>Name</label>
        <input type="text" id="edit-name" required />
        <label>Adresse</label>
        <input type="text" id="edit-address" required />
        <label>Telefon</label>
        <input type="tel" id="edit-phone" required />
        <label>E-Mail</label>
        <input type="email" id="edit-email" required />
        <label>Kapazität</label>
        <input type="number" id="edit-capacity" required />
        <label>Fahrzeugaufbereitung</label>
        <select id="edit-aufbereitung">
          <option>Nein</option>
          <option>Ja - intern</option>
          <option>Ja - extern</option>
        </select>
        <label>Schadensregulierung</label>
        <select id="edit-schadensregulierung">
          <option>Nein</option>
          <option>Ja</option>
        </select>
        <label>Lage</label>
        <select id="edit-lage">
          <option>Innenstadt</option>
          <option>Flughafen</option>
          <option>Tourismuszentrum</option>
          <option>Bahnhof</option>
        </select>
        <button type="submit" style="margin-top:1.2rem;">Speichern</button>
      </form>
    </div>
  </div>

  <script src="mietstationen.js"></script>
</body>
</html>
