<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mietstationen verwalten</title>
  <!-- Fonts & Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="personal.css" />
  <link rel="stylesheet" href="mietstationen.css" />
</head>
<body>
  <!-- Header / Top Navbar -->
  <header>
    <div class="logo">
      <img src="logo.png" alt="Logo" />
      <span>Autovermietung</span>
    </div>
    <nav>
      <a href="main.html">Home</a>
      <a href="mietstationen.html" aria-current="page">Mietstationen</a>
      <a href="performance.html">Performance</a>
      <a href="personal.html">Personaleinsatz</a>
    </nav>
  </header>

  <!-- Container mit Sidebar + Content -->
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <nav>
        <button class="sidebar-btn active" data-target="overview-map">
          <i class="fa-solid fa-map"></i>
          <span>Übersicht & Karte</span>
        </button>
        <button class="sidebar-btn" data-target="existing-stations">
          <i class="fa-solid fa-building"></i>
          <span>Bestehende Mietstationen</span>
        </button>
        <button class="sidebar-btn" data-target="new-station">
          <i class="fa-solid fa-plus-circle"></i>
          <span>Neue Mietstation</span>
        </button>
      </nav>
    </aside>

    <!-- Hauptinhalt -->
    <main class="main-content">
      <!-- Übersicht & Karte -->
      <section id="overview-map" class="tab-section active">
        <div class="card">
          <h2>Alle Mietstationen &ndash; Übersicht & Karte</h2>
          <table id="stationTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>Adresse</th>
                <th>Stadt</th>
                <th>Kapazität</th>
                <th>Öffnungszeiten heute</th>
                <th>Karte</th>
              </tr>
            </thead>
            <tbody><!-- ladeStationenUebersicht() füllt hier --></tbody>
          </table>
        </div>
      </section>

      <!-- Bestehende Mietstationen -->
      <section id="existing-stations" class="tab-section">
        <div class="card">
          <h2>Bestehende Mietstationen</h2>
          <div id="stationList"></div>
        </div>
      </section>

      <!-- Neue Mietstation -->
      <section id="new-station" class="tab-section">
        <div class="card">
          <h2>Neue Mietstation anlegen</h2>
          <form id="mietstationForm">
            <label for="name">Name</label>
            <input type="text" id="name" required />

            <label for="address">Adresse</label>
            <input type="text" id="address" required />

            <label for="phone">Telefon</label>
            <input type="tel" id="phone" required />

            <label for="email">E-Mail</label>
            <input type="email" id="email" required />

            <label for="capacity">Kapazität</label>
            <input type="number" id="capacity" required min="1" />

            <label for="aufbereitung">Fahrzeugaufbereitung</label>
            <select id="aufbereitung" required>
              <option value="Nein">Nein</option>
              <option value="Ja - intern">Ja - intern</option>
              <option value="Ja - extern">Ja - extern</option>
            </select>

            <label for="schadensregulierung">Schadensregulierung</label>
            <select id="schadensregulierung" required>
              <option value="Nein">Nein</option>
              <option value="Ja">Ja</option>
            </select>

            <label for="lage">Lage</label>
            <select id="lage" required>
              <option value="Innenstadt">Innenstadt</option>
              <option value="Flughafen">Flughafen</option>
              <option value="Tourismuszentrum">Tourismuszentrum</option>
              <option value="Bahnhof">Bahnhof</option>
            </select>

            <button type="submit">Speichern</button>
            <button type="button" id="cancelEdit" style="margin-left:1rem; display:none;">❌ Abbrechen</button>
          </form>
        </div>
      </section>
    </main>
  </div>

  <!-- Modals bleiben unverändert -->

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
  <script src="mietstationen.js" defer></script>
  <script>
    // Tab-Navigation & Data-Load
    document.querySelectorAll('.sidebar-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelector('.sidebar-btn.active').classList.remove('active');
        btn.classList.add('active');
        const target = btn.getAttribute('data-target');
        document.querySelectorAll('.tab-section').forEach(sec => {
          sec.classList.toggle('active', sec.id === target);
        });
        if (target === 'existing-stations') ladeStationenUebersicht();
        if (target === 'new-station') loadStations();
      });
    });
    document.addEventListener('DOMContentLoaded', () => {
      ladeStationenUebersicht();
    });
  </script>
</body>
</html>
